<!Doctype html>
<html>
<head>
<meta charest="utf-8">
<meta name="keywords" content="aa">
<meta name="description" content="aaaa">
<title>ģ��</title> 
<style type="text/css">
	#box1 {
		width: 70px;
		height: 70px;
		background-color: #BBFFAA;
		position: absolute;
		/* z-index: 1000; */
	}
	#box2 {
		width: 50px;
		height: 50px;
		background-color: red;
		position: absolute;
		left: 70px;
		top: 70px;
	}
	*{
		margin: 0px;
	}
</style>
  <script>
  //注意事件给谁绑定，鼠标坐标在哪个事件中获取
   window.onload = function(){
	   var box1 = document.getElementById("box1");
	   //1.设置盒子的点击事件
	   box1.onmousedown = function(event){
		   
		   var x = event.clientX - box1.offsetLeft;//得到偏移量
		   var y = event.clientY - box1.offsetTop;
		   
				//2.鼠标点击时，元素随鼠标移动
				document.onmousemove = function(event){
					
					var xx = event.clientX - x;//移动时鼠标的坐标-偏移量
					var yy = event.clientY - y;
					
					box1.style.left = xx + "px";
					box1.style.top = yy + "px";
	
				};
	   
				//鼠标在box1松开后，元素停止跟随，鼠标松开事件也结束
				//此事件要绑定在docum上，不然在方块内松不开
				document.onmouseup = function(){
					//取消元素事件
					document.onmousemove = null;
					document.onmouseup = null;
				}
				
				/* 当我们拖拽内容（图片，文字）时，浏览器会默认去 搜索引擎 中搜索内容
				这样会导致拖拽功能异常(选中文字移动，多图片移动)，这个是浏览器提供的默认行为
				关闭默认行为：
					方法一：拖拽事件的返回值为false;这样拖拽时就不会选中其他内容
					方法二：使用addEventListener()方法绑定的函数不能用return取消默认行为
						 需要用event来取消
						 event.preventDefault();
				 */
				event.preventDefault();
		return false;
		}
	 
   }
  </script>
</head> 
<body>
	sdf
	<div id="box1"></div>
	<div id="box2"></div>
</body>
</html>
