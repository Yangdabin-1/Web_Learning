<!Doctype HTML>
<html lang='en'>
<head>
<meta charset='utf-8'>
<meta name='keywords' content='关键词'>
<meta name='description' content='描述'>
<meta name='viewport' content='width=device-width,initial-scale=1.0'>
<title>网页名</title>
<style></style>
<script>
  //可以做批量异步任务的场景
  let p1 = new Promise((resolve,reject)=>{
    setTimeout(()=>{
      resolve('商品数据一')
      // reject("获取商品数据一失败")
    },1000)
  })
  let p2 = new Promise((resolve,reject)=>{
    setTimeout(()=>{
      // resolve('商品数据二')
      reject("获取商品数据二失败")
    },1000)
  })

  /* all方法(参数要是数组，数组里存放着promise对象)
    返回一个promise对象，promise状态：p1&p2的状态
    promise值：如果都成功，返回数组，数组存储每一个成功的值；如果失败，只存第一个失败的值
  */
  let result1 = Promise.all([p1,p2])
  console.log(result1)

  /* allSettled方法
    promise状态：p1|p2
    promise值：一个数组,存储每个对象的成功/失败状态和值
   */
  let result2 = Promise.allSettled([p1,p2])
  console.log(result2)

</script>
</head>
<body>
</body>
</html>