<!Doctype HTML>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <meta name='keywords' content='关键词'>
  <meta name='description' content='描述'>
  <meta name='viewport' content='width=device-width,initial-scale=1.0'>
<title>Vue</title>
<style>
  /* 列表过滤
    1.过滤：
      数组过滤用 arr.filter((p)=>{          p是数组的每一个数据，符合条件的塞入新数组
                        return 过滤的条件
                 })

    2.watch方法：一开始就要执行，所以开启immedita，监视属性改变也执行
    3.computed方法：一开始就执行，且关联数据改变也执行
        此方法是通过返回值完成的
  
  */
</style>
<script src='../JS/vue.js'></script>
</head>
<body>
  <div id="root">
    <input type="text" placeholder="input name" v-model="keyWord"> <!--双向绑定关键词-->
    <ul>
      <li v-for='p of newpersons':key='p.id'>{{p.name}}-{{p.age}}-{{p.sex}}</li>
    </ul>
  </div>
<script>
  Vue.config.productionTip = false
  
  // watch写法
   /* new Vue({
     el:"#root",
     data:{
       keyWord:'',  //空字符串也是字符串的子集
       newpersons:[], //储存过滤后的数组
       persons:[
         {id:"01",name:"周杰伦",age:45,sex:"男"},
         {id:"02",name:"张杰",age:43,sex:"男"},
         {id:"03",name:"飞伦海",age:33,sex:"男"},
         {id:"04",name:"张雨绮",age:35,sex:"女"}
       ]
     },
     watch:{
       keyWord:{
         immediate:true,
         handler(value){ //监视的回调
           this.newpersons = this.persons.filter((p)=>{
             return p.name.indexOf(value) !== -1
           })
         }
       }
     }
  }) */
 

  //computed写法
  new Vue({
    el:"#root",
    data:{
      keyWord:'',
      persons:[
        {id:"01",name:"周杰伦",age:45,sex:"男"},
        {id:"02",name:"张杰",age:43,sex:"男"},
        {id:"03",name:"飞伦海",age:33,sex:"男"},
        {id:"04",name:"张雨绮",age:35,sex:"女"}
      ]
    },
    computed:{
      newpersons(){
        return this.persons.filter((p)=>{  //返回的是过滤后的数组
             return p.name.indexOf(this.keyWord) !== -1
           })
      }
    }
  })
</script>
</body>
</html>